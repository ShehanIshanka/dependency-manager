@import play.mvc.Http.Request
@(edges: String, attr: String, widgets: Seq[Widget], form: Form[WidgetData])(implicit request: Request, messages: play.i18n.Messages)

@main("Dependency Manager") {
<!--<div class="container" >-->
<!--    <div class="row m-3 " >-->
<!--        <div class="col-7" >-->
<!--            <div class="embed-responsive embed-responsive-1by1 text-center" >-->
<!--                <div class="embed-responsive-item" id="mynetwork1" style="border: 1px solid lightgray">-->
<!--                                <ul>-->
<!--                                    <li>Please go to <a href="@routes.WidgetController.listWidgets">@routes.WidgetController.listWidgets</a>-->
<!--                                    </li>-->
<!--                                </ul>-->
<!--                                <script type="text/javascript" src="@routes.Assets.versioned("javascripts/main.js")"></script>-->


<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<div align="center">
    <h2>Dependency Manager</h2>
    <ul>
        <li>Please go to <a href="@routes.WidgetController.listWidgets">@routes.WidgetController.listWidgets</a>
        </li>
    </ul>
</div>
<!--<div class="container">-->
<div class="row justify-content-center">
    <div class="col-md-9" id="mynetwork1">
        <script type="text/javascript" src="@routes.Assets.versioned("javascripts/main.js")"></script>
            <script>
                createNetwork(@Html(edges), @Html(attr));
            </script>
    </div>
    <div class="col-md-2">
        @* Flash shows updates to a page *@
        @request.flash.asScala().data.map { case (name, value) =>
        <div class="@name">@value</div>
        }

<!--        <table>-->
<!--            <thead>-->
<!--            <tr>-->
<!--                <th>Name</th>-->
<!--                <th>Price</th>-->
<!--            </thead>-->
<!--            <tbody>-->
<!--            @for(w <- widgets) {-->
<!--            <tr>-->
<!--                <td>@w.name</td>-->
<!--                <td>@w.price</td>-->
<!--            </tr>-->
<!--            }-->
<!--            </tbody>-->
<!--        </table>-->

<!--        <hr/>-->

        @* Global errors are not tied to any particular form field *@
        @if(form.hasGlobalErrors) {
        @form.globalErrors.asScala.map { error: play.data.validation.ValidationError =>
        <div>
            @error.key: @error.message
        </div>
        }
        }

<!--        @helper.form(routes.WidgetController.createWidget) {-->
<!--        @helper.CSRF.formField-->

<!--        @helper.inputText(form("name"))-->

<!--        @helper.inputText(form("price"))-->

<!--        <button type="submit">Create widget</button>-->
<!--        }-->
        <div>
        @helper.form(action = routes.WidgetController.upload, Symbol("enctype") -> "multipart/form-data") {
        @helper.CSRF.formField
        <input type="file" name="picture">

        <p>
            <input type="submit">
        </p>

        }
        </div>
        <hr>
        <div>
            @helper.form(action = routes.WidgetController.upload) {
            @helper.CSRF.formField
            @helper.inputText(form("name"))
            <button type="submit">Create widget</button>
            }
        </div>
        <hr>
        <div>
            @helper.form(action = routes.WidgetController.upload) {
            @helper.CSRF.formField
            @helper.inputText(form("name"))
            <button type="submit">Create widget</button>
            }
        </div>

    </div>
</div>
<!--</div>-->
}